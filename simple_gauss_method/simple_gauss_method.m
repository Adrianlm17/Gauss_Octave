## ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
## ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
## -----------------------------------------                                                                                                -----------------------------------------
## -----------------------------------------                                      Simple Gauss method                                       -----------------------------------------
## -----------------------------------------                                                                                                -----------------------------------------
## ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
## ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------



clc;



y = 0.3000;
z = 27;
s = 2307;
t = 12983;
x = 0.0001;

A=[x^4, x^3, x^2, x^1, 1; y^4, y^3, y^2, y^1, 1; z^4, z^3, z^2, z^1, 1; s^4, s^3, s^2, s^1, 1; t^4, t^3, t^2, t^1, 1];

A = (A');
B = [1;2;3;4;5];



function results = simple_gauss_method(A, B)
  results = "";

  for i = 2:size(A, 1)
    for j = 1:i-1
      if A(i,j) != 0
        x = A(i,j);
        y = A(j,j);

        multiplier = x / y;

        A(i, :) = A(i, :) - multiplier * A(j, :);
        B(i) = B(i) - multiplier * B(j);
      endif
    endfor
  endfor



  for i = size(A,1):-1:1
    if i == size(A,1)
      result = B(i)/A(i,i);
      for j = i:-1:1
        A(j,i);
        A(j,i) = A(j,i)*result;
      endfor

    else
      operation = 0;
      for j = i+1:size(A,1)
        operation = operation + (-1*A(i,j));
      endfor

      result = ((B(i)+operation)/A(i,i));
      for j = i:-1:1
        A(j,i);
        A(j,i) = A(j,i)*result;
      endfor
    endif

    results = [results, sprintf("X%d = %.15e\n", i, result)];
  endfor
endfunction



results = simple_gauss_method(A, B);

disp('Matrix A after elimination:');
disp(A);
disp('Vector B after removal:');
disp(b);
disp('Result of the unknowns:');
disp(results);

